{"version":3,"file":"SketchWrapper2.js","sources":["../../../src/SketchWrapper.svelte"],"sourcesContent":["<script>\n  import { onMount, getContext } from 'svelte';\n  import PIXI, { PIXI_CONTEXT } from './lib/pixi/index.js';\n\n  const { getApp, pixiStore } = getContext(PIXI_CONTEXT);\n  const app = getApp();\n  let status = 'loaded';\n\n  console.log('SketchWrapper', { status });\n\n  // app.ticker = PIXI.Ticker.shared;\n  // app.ticker.autoStart = false;\n  // app.stage = new PIXI.Container();\n  app.ticker.start();\n\n  onMount(() => {\n    status = 'mounted';\n    console.log('SketchWrapper', { status });\n\n    pixiStore.sketchWrapperDestructor.set(() => {\n      app.ticker.stop();\n      // app.stage.destroy(); // TODO: Should be app.stage.destroy(true);\n      status = 'destroyed';\n      console.log('SketchWrapper', { status });\n      // console.log(app.stage);\n      return true;\n    });\n\n    status = 'initialized';\n    console.log('SketchWrapper', { status });\n\n    // TODO: Destroy under SketchWrapper while keeping Screen\n    // return () => {\n    //   if (app.stage) {\n    //     app.ticker.stop();\n    //     app.stage.destroy(); // TODO: Should be app.stage.destroy(true);\n    //     console.log('SketchWrapper destroyed');\n    //     return true;\n    //   }\n    // };\n  });\n</script>\n\n{#if status === 'initialized'}\n  <slot />\n{/if}\n"],"names":["ctx","getApp","pixiStore","getContext","PIXI_CONTEXT","app","status","console","log","ticker","start","onMount","sketchWrapperDestructor","set","stop"],"mappings":"qYA2CgB,gBAAXA,iFAAW,gBAAXA,yOAvCKC,EAAMC,UAAEA,GAAcC,EAAWC,GACnCC,EAAMJ,QACRK,EAAS,gBAEbC,QAAQC,IAAI,iBAAmBF,OAAAA,IAK/BD,EAAII,OAAOC,QAEXC,YACEL,EAAS,WACTC,QAAQC,IAAI,iBAAmBF,OAAAA,IAE/BJ,EAAUU,wBAAwBC,UAChCR,EAAII,OAAOK,WAEXR,EAAS,aACTC,QAAQC,IAAI,iBAAmBF,OAAAA,KAExB,SAGTA,EAAS,eACTC,QAAQC,IAAI,iBAAmBF,OAAAA"}