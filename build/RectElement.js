import{S as t,i as e,s as n,y as s,w as i,P as o,c as r,m as a,t as l,a as c,d as p,b as d,e as f,f as h,g as $,h as u,j as m,k as g,l as w,z as x}from"./main2.js";import{P as b,D as v,a as y,W as C,C as S,S as q}from"./randomColor.js";import{S as W}from"./SketchWrapper2.js";function k(t,e,n){let{x:o=0}=e,{y:r=0}=e,{offset:a=[]}=e,{width:l}=e,{height:c}=e,{fill:p=16777215}=e,{brightness:d=null}=e,{filters:f=[]}=e,{scale:h=1}=e,{position:$="center"}=e,{lineWidth:u=null}=e,{lineColor:m=null}=e;const{getApp:g,pixiStore:w}=s(b),x=g(),S=new v;let q,W,k=!1;return w.editMode.subscribe((t=>{k=t,q&&q.showHelper(t)})),i((()=>{console.log("RectElement mounted");let t=new y.Graphics;u&&(t.lineStyle(u,m),t.drawRect(0,0,l,c)),W=new y.Graphics,W.lineStyle(0),W.beginFill(p,1).drawRect(0,0,l,c).endFill(),W.filters=f,t.addChild(W),q=new C(t,x.renderer,x.screen,k),q.x=o,q.y=r,q.setOffset(...a),S.makeDraggable(q.group,q.sprite),x.stage.addChild(q.group);const e=function(t,e,n,s,i){let o=()=>{};return"center"===t?o=()=>{n.setTransform((1+s-s*e)/2,(1+i-i*e)/2,e,e)}:"bottom"===t&&(o=()=>{n.setTransform(0,i-i*e,1,e)}),o}($,h,W,l,c);let n,s,i;const g=function(){q.update(),e(),d&&(n=Math.ceil((p>>16)*d),s=Math.ceil((p>>8&255)*d),i=Math.ceil((255&p)*d),W.tint=(1<<24)+(n<<16)+(s<<8)+i&16777215)};x.ticker.add(g),w.destructors.update((t=>[...t,()=>{x.ticker.remove(g,this),console.log("RectElement destroyed")}]))})),t.$$set=t=>{"x"in t&&n(0,o=t.x),"y"in t&&n(1,r=t.y),"offset"in t&&n(2,a=t.offset),"width"in t&&n(3,l=t.width),"height"in t&&n(4,c=t.height),"fill"in t&&n(5,p=t.fill),"brightness"in t&&n(6,d=t.brightness),"filters"in t&&n(7,f=t.filters),"scale"in t&&n(8,h=t.scale),"position"in t&&n(9,$=t.position),"lineWidth"in t&&n(10,u=t.lineWidth),"lineColor"in t&&n(11,m=t.lineColor)},[o,r,a,l,c,p,d,f,h,$,u,m]}class M extends t{constructor(t){super(),e(this,t,k,null,n,{x:0,y:1,offset:2,width:3,height:4,fill:5,brightness:6,filters:7,scale:8,position:9,lineWidth:10,lineColor:11})}}function R(t){let e,n;return e=new M({props:{x:250,y:150,width:100,height:100,fill:6340791,brightness:1}}),{c(){r(e.$$.fragment)},m(t,s){a(e,t,s),n=!0},p:x,i(t){n||(l(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}function E(t){let e,n;return e=new W({props:{$$slots:{default:[R]},$$scope:{ctx:t}}}),{c(){r(e.$$.fragment)},m(t,s){a(e,t,s),n=!0},p(t,n){const s={};4&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(l(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}function j(t){let e,n;return e=new q({props:{canvas:t[0],width:"600",height:"400",editMode:!0,$$slots:{default:[E]},$$scope:{ctx:t}}}),{c(){r(e.$$.fragment)},m(t,s){a(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.canvas=t[0]),4&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(l(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}function T(t){let e,n,s,i,o,x,b,v,y;function C(e){t[1].call(null,e)}let q={width:"600",height:"400",class:"border shadow mx-auto",$$slots:{default:[j]},$$scope:{ctx:t}};return void 0!==t[0]&&(q.canvas=t[0]),o=new S({props:q}),d.push((()=>f(o,"canvas",C))),{c(){e=h("h1"),e.textContent="RectElement",n=$(),s=h("p"),s.textContent="A simple rectangle element.",i=$(),r(o.$$.fragment),b=$(),v=h("pre"),u(v,"class","language-null")},m(t,r){m(t,e,r),m(t,n,r),m(t,s,r),m(t,i,r),a(o,t,r),m(t,b,r),m(t,v,r),v.innerHTML='<code class="language-null">&lt;script&gt;\n  import &#123; Canvas, Screen, SketchWrapper &#125; from &#39;@mmmapper/components&#39;;\n  import &#123; RectElement &#125; from &#39;@mmmapper/components&#39;;\n\n  let canvas;\n&lt;/script&gt;\n\n&lt;Canvas\n  bind:canvas=&#123;canvas&#125;\n  width=&quot;600&quot;\n  height=&quot;400&quot;\n  class=&quot;border shadow mx-auto&quot;\n&gt;\n  &lt;Screen canvas=&#123;canvas&#125; width=&quot;600&quot; height=&quot;400&quot; editMode=&#123;true&#125;&gt;\n    &lt;SketchWrapper&gt;\n      &lt;RectElement\n        x=&#123;250&#125;\n        y=&#123;150&#125;\n        width=&#123;100&#125;\n        height=&#123;100&#125;\n        fill=&#123;0x60c0b7&#125;\n        brightness=&#123;1&#125;\n      /&gt;\n    &lt;/SketchWrapper&gt;\n  &lt;/Screen&gt;\n&lt;/Canvas&gt;</code>',y=!0},p(t,e){const n={};5&e&&(n.$$scope={dirty:e,ctx:t}),!x&&1&e&&(x=!0,n.canvas=t[0],g((()=>x=!1))),o.$set(n)},i(t){y||(l(o.$$.fragment,t),y=!0)},o(t){c(o.$$.fragment,t),y=!1},d(t){t&&w(e),t&&w(n),t&&w(s),t&&w(i),p(o,t),t&&w(b),t&&w(v)}}}function A(t){let e,n;return e=new o({props:{$$slots:{default:[T]},$$scope:{ctx:t}}}),{c(){r(e.$$.fragment)},m(t,s){a(e,t,s),n=!0},p(t,[n]){const s={};5&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(l(e.$$.fragment,t),n=!0)},o(t){c(e.$$.fragment,t),n=!1},d(t){p(e,t)}}}function D(t,e,n){let s;return[s,function(t){s=t,n(0,s)}]}export default class extends t{constructor(t){super(),e(this,t,D,A,n,{})}}
//# sourceMappingURL=RectElement.js.map
